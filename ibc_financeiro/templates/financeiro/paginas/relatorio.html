{% extends 'financeiro/base.html' %}

{% load static %}

{% block title %}
    {% block titulo %}
        Relatório de {{ title|title  }}
    {% endblock %}
{% endblock %}

{% block CSS %}    
    <link rel= 'stylesheet' href= "{% static 'css/paginas/relatorio/bootstrap-select.min.css' %}">
    <link rel= 'stylesheet' href= "{% static 'css/paginas/relatorio/bootstrap-datepicker.min.css' %}">
    <link rel= 'stylesheet' href= "{% static 'css/paginas/relatorio/relatorio.css' %}">
{% endblock %}

{% block dinamico %}
    <div class= 'row clearfix'>
        <div class= 'col-lg-12 col-md-12 col-sm-12 col-xs-12'>
            <form method= 'POST' action= "{% url 'relatorio' title %}">
                {% csrf_token %}

                <!-- Filtros -->
                <div class= 'card'>
                    <div class= 'body'>
                        <div class= 'header' id= 'botao'>                   <!-- Botão -->
                            <h2>
                                Filtros
                                <small> Adicionar filtros para gerar um relátorio mais refinado </small>
                            </h2>

                            <ul class= 'header-dropdown m-r--5'>
                                <i class= 'material-icons' id= 'adicionar'> add_circle </i>
                                <i class= 'material-icons' id= 'deletar' style= 'display: none'> delete </i>
                            </ul>
                        </div>
                        
                        <div style= 'display: none' id= 'filtros'>          <!-- Campos -->
                            <br>

                            <div class= 'row clearfix'>
                                {% for campo in formulario.visible_fields|slice:'2:6' %}
                                    <div class= 'col-sm-3'>
                                        <div class= 'form-group'>
                                            <div class= 'form-line'>
                                                <h3 class= 'card-inside-title'> {{ campo.label }} </h3>
                                                {{ campo }}
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>

                            {% if title == 'geral' %}
                                <div class= 'row clearfix'>
                                    {% for campo in formulario.visible_fields|slice:'6:8' %}
                                        <div class= 'col-sm-6'>
                                            <div class= 'form-group'>
                                                <div class= 'form-line'>
                                                    <h3 class= 'card-inside-title'> {{ campo.label }} </h3>
                                                    {{ campo }}
                                                </div>
                                            </div>
                                        </div>
                                    {% endfor %}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <!-- Datas -->
                <div class= 'card'>
                    <div class= 'body'>
                        <div class= 'header'>
                            <h2>
                                Período
                                <small> Informe o intervalo entre as datas que deseja ver os dados no relatório </small>
                            </h2>
                        </div>
                        
                        <br>
                        
                        <div class= 'col-xs-12'>
                            <div class= 'input-daterange input-group' id= 'bs_datepicker_range_container'>
                                {% for campo in formulario.visible_fields|slice:'0:2' %}
                                    <span class= 'input-group-addon'> {{ campo.label }} </span>

                                    <div class= 'form-line'>
                                        {{ campo }}
                                    </div>
                                {% endfor %}
                            </div>
                        </div>

                        <button class= 'btn btn-primary btn-lg waves-effect'>
                            <i class= 'material-icons'> text_snippet </i>
                            <span> GERAR RELATÓRIO </span>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock %}

{% block JS %}
    <script src= "{% static 'js/paginas/relatorio/jquery.mask.min.js' %}"> </script>
    <script src= "{% static 'js/paginas/relatorio/datepicker/bootstrap-datepicker.min.js' %}"> </script>
    <script src= "{% static 'js/paginas/relatorio/datepicker/bootstrap-datepicker.pt-BR.min.js' %}"> </script>
    <script src= "{% static 'js/paginas/relatorio/relatorio.js' %}"> </script>
{% endblock %}