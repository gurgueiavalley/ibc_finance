{% load static %}

<!DOCTYPE HTML>
<html lang= 'pt-BR'>
    <head>
        <meta charset= 'utf-8'>
        <meta content= 'width= device-width, initial-scale= 1, maximum-scale= 1, user-scalable= no' name= 'viewport'>

        <link rel= 'icon' type= 'image/jpg' href= "{% static 'imagens/logo.jpg' %}">
        <title> {% block title %} {% endblock %} </title>

        <!-- CSS -->
        <link rel= 'stylesheet' href= 'https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext' type= 'text/css'>
        <link rel= 'stylesheet' href= 'https://fonts.googleapis.com/icon?family=Material+Icons' type= 'text/css'>

        <link rel= 'stylesheet' href= "{% static 'css/base/bootstrap.css' %}">
        <link rel= 'stylesheet' href= "{% static 'css/base/waves.css' %}">
        <link rel= 'stylesheet' href= "{% static 'css/base/animate.css' %}">
        <link rel= 'stylesheet' href= "{% static 'css/base/font-awesome.min.css' %}">
        
        {% block CSS %} {% endblock %}
        
        <link rel= 'stylesheet' href= "{% static 'css/base/style.css' %}">
        <link rel= 'stylesheet' href= "{% static 'css/base/all-themes.css' %}">
        <link rel= 'stylesheet' href= "{% static 'css/base/base.css' %}">
        
        <link rel= 'stylesheet' href= "{% static 'base/style.css' %}">     <!-- Estilo feito manualmente -->
    </head>

    <body class= 'theme-blue'>
        {% include './base/partes/loading.html' %}       <!-- Loading -->

        <nav class= 'navbar'>                       <!-- Cabeçalho -->
            <div class= 'container-fluid'>
                <div class= 'navbar-header'>
                    <a href= 'javascript:void(0);' class= 'bars'> </a>
                    <a class= 'navbar-brand' href= "{% url 'index' %}">  IGREJA BATISTA - CORRENTE  </a>
                </div>
            </div>
        </nav>

        <section>                                   <!-- Coluna Esquerda -->    
            <aside id= 'leftsidebar' class= 'sidebar'>
                <div class= 'user-info'>
                    <div class= 'image'>
                        <img src= "{% static 'imagens/logo.jpg' %}" width= '48' height= '48' alt= 'User'>
                    </div>

                    <div class= 'info-container'>
                        <div class= 'name' data-toggle= 'dropdown' aria-haspopup= 'true' aria-expanded= 'false'>
                            <strong> {{ user.first_name }} {{ user.last_name }} </strong>
                        </div>

                        <div class= 'email'> {{ user.email }} </div>

                        <div class= 'btn-group user-helper-dropdown'>
                            <i class= 'material-icons' data-toggle= 'dropdown' aria-haspopup= 'true' aria-expanded= 'true'>
                                keyboard_arrow_down
                            </i>

                            <ul class= 'dropdown-menu pull-right'>
                                <li>        <!-- Perfil -->
                                    <a href= "{% url 'usuario' 'perfil' %}">
                                        <i class= 'material-icons'> person </i> Perfil
                                    </a>
                                </li>

                                <li role= 'separator' class= 'divider'> </li>

                                <li>        <!-- Usuários -->
                                    <a href= "{% url 'usuario' 'listar' %}">
                                        <i class= 'material-icons'> group </i> Usuários
                                    </a>
                                </li>
                                
                                <li role= 'separator' class= 'divider'> </li>
                                
                                <li>        <!-- Sair -->
                                    <a href= "{% url 'conta' 'logout' %}">
                                        <i class= 'material-icons'> input </i> Sair
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                {% include './base/partes/menu.html' %}
                
                <!-- Copyright e Versão -->
                <div class= 'legal p-10 t-a-c'>
                    <div class= 'copyright'>                    <!-- Copyright -->
                        &copy; 2020 – <script> document.write(new Date().getFullYear()) </script> |
                        <a href= 'https://gurgueiavalley.github.io' target= '_blank'> Gurguéia Valley </a>
                    </div>
                    
                    <div class= 'version m-t-0 c-p'> </div>     <!-- Versão -->
                </div>
            </aside>
        </section>

        <section class= 'content'>                  <!-- Corpo -->
            <div class= 'container-fluid'>
                <div class= 'block-header'>
                    <h2> {% block titulo %} {% endblock %} </h2>
                </div>

                {% block dinamico %} {% endblock %}
            </div>
        </section>
        
        <!-- JS -->
        <script src= "{% static 'js/base/jquery.min.js' %}"> </script>
        <script src= "{% static 'js/base/bootstrap.js' %}"> </script>
        <script src= "{% static 'js/base/bootstrap-select.js' %}"> </script>
        <script src= "https://cdnjs.cloudflare.com/ajax/libs/jQuery-slimScroll/1.3.8/jquery.slimscroll.min.js"> </script>
        <script src= "{% static 'js/base/waves.js' %}"> </script>
        
        <script src= "{% static 'js/base/admin.js' %}"> </script>
        <script src= "{% static 'js/base/demo.js' %}"> </script>
        
        <script src= 'https://cdnjs.cloudflare.com/ajax/libs/mouse0270-bootstrap-notify/3.1.3/bootstrap-notify.min.js'> </script>
        
        {% block JS %} {% endblock %}
        
        {% if form.fields.errors %}
            <script>
                {% for field in form.fields %}
                    {% if field.errors %}
                        $.notify({
                            title : '<strong> {{ field.label |cut:" <b> * </b>" |safe }} </strong>',
                            message : '{{ field.errors }}'
                        }, {
                            type : 'danger',
                            offset : 10,
                            spacing : 5,
                            delay : 0,
                            animate : {
                                enter : 'animated zoomInRight',
                                exit : 'animated zoomOutRight'
                            }
                        })
                    {% endif %}
                {% endfor %}
            </script>
        {% endif %}

        {% if messages %}
            <script>
                {% for message in messages %}                    
                    $.notify({
                        title : {% if message.extra_tags %} '{{ message.extra_tags |safe }}' {% else %} '' {% endif %},
                        message : '{{ message |safe }}'
                    }, {
                        type : 'success',
                        placement : {
                            align: 'center'
                        },
                        delay : 0,
                        animate : {
                            enter : 'animated fadeInDown',
                            exit : 'animated fadeOutUp'
                        }
                    })
                {% endfor %}
            </script>
        {% endif %}

        <script src= "{% static 'base/method.js' %}"> </script>     <!-- Métodos feitos manualmente -->
    </body>
</html>